(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d209276"],{a89b:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.listQuery.search}},[a("el-form-item",{attrs:{label:"支持平台"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.listQuery.search.platform,callback:function(e){t.$set(t.listQuery.search,"platform",e)},expression:"listQuery.search.platform"}},t._l(t.platformTypeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"收费类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.listQuery.search.is_pay,callback:function(e){t.$set(t.listQuery.search,"is_pay",e)},expression:"listQuery.search.is_pay"}},t._l(t.paymentTypeList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"所属类目"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.listQuery.search.cid,callback:function(e){t.$set(t.listQuery.search,"cid",e)},expression:"listQuery.search.cid"}},t._l(t.category,(function(t){return a("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSearchSubmit}},[t._v("查询")]),a("el-button",{on:{click:t.onSearchReset}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"text item"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"插件名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(e.row.title)+" "),e.row.show_how_url?a("a",{attrs:{href:e.row.show_how_url,target:"_blank"}},[a("el-tag",{staticStyle:{"margin-left":"5px",cursor:"pointer"},attrs:{type:"success",effect:"dark",size:"mini"}},[t._v("演示")])],1):t._e(),e.row.document_url?a("a",{attrs:{href:e.row.document_url,target:"_blank"}},[a("el-tag",{staticStyle:{"margin-left":"5px",cursor:"pointer"},attrs:{type:"success",effect:"dark",size:"mini"}},[t._v("文档")])],1):t._e()])]}}])}),a("el-table-column",{attrs:{label:"插件介绍",prop:"note"}}),a("el-table-column",{attrs:{label:"作者",prop:"author",width:"100",align:"center"}}),a("el-table-column",{attrs:{label:"价格",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_pay?a("div",{staticStyle:{color:"#e74c3c"}},[t._v("￥"+t._s(e.row.money))]):a("div",{staticStyle:{color:"#18bc9c"}},[t._v("免费")])]}}])}),a("el-table-column",{attrs:{label:"下载量",prop:"download",width:"80",align:"center"}}),a("el-table-column",{attrs:{label:"版本",prop:"version",width:"100",align:"center"}}),a("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row["status"]?a("el-tag",{attrs:{type:"success",effect:"dark",size:"mini"}},[t._v("已启用")]):t._e(),0==e.row["status"]?a("el-tag",{attrs:{type:"danger",effect:"dark",size:"mini"}},[t._v("已禁用")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("安装")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleUnstall(e.row)}}},[t._v("卸载")])]}}])})],1),a("el-dialog",{attrs:{title:"登录用户是为了插件二次安装不用重复收费",visible:t.dialogVisible,width:"30%","before-close":function(){return t.dialogVisible=!1}},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"登录",name:"login"}},[a("login-html",{key:Math.random(),on:{click:t.handleDialog}})],1),a("el-tab-pane",{attrs:{label:"注册",name:"register"}},[a("register-html",{key:Math.random(),on:{click:t.handleDialog}})],1)],1)],1),a("el-dialog",{attrs:{title:"版本信息",visible:t.versionVisible,width:"60%","before-close":function(){return t.versionVisible=!1}},on:{"update:visible":function(e){t.versionVisible=e}}},[a("detail-html",{key:Math.random(),attrs:{detail:t.detail},on:{click:function(){return t.versionVisible=!1},refresh:t.checkInstail}})],1)],1)])},i=[],n=(a("fe59"),a("77ad"),a("e18c"),a("e35a"),a("9cf3"),a("08ba"),a("6a61"),a("cf7f")),r=a("ab3e"),s=a("7cb7"),o=a("fa7d"),c={components:{LoginHtml:function(){return a.e("chunk-2d0f00eb").then(a.bind(null,"9b6b"))},RegisterHtml:function(){return a.e("chunk-2d225be6").then(a.bind(null,"e665"))},DetailHtml:function(){return a.e("chunk-2d0b9216").then(a.bind(null,"3245"))}},data:function(){return{tableData:[],indexUrl:"/api/plug/getPlugList",listQuery:{page:1,total:10,totalCount:0,pageSizes:[10,20,50,100,200,300,400],search:{}},dialogVisible:!1,activeName:"login",versionVisible:!1,detail:{},category:[],platformTypeList:[],paymentTypeList:[{id:0,title:"免费"},{id:1,title:"收费"}]}},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,e.next=3,Object(s["a"])();case 3:l=e.sent,Object(r["a"])(t.indexUrl,t.listQuery,(function(t){l.data.list.length&&t.data.list.forEach((function(t){t.status=null;var e=t.alias.charAt(0).toUpperCase()+t.alias.slice(1);return l.data.list[e]&&(t.status=l.data.list[e].status),t})),a.tableData=t.data.list,a.category=t.data.category,a.platformTypeList=t.data.platformTypeList,a.listQuery.totalCount=t.data.totalCount}));case 5:case"end":return e.stop()}}),e)})))()},handleEdit:function(t){o["a"].cacheGet("addonappstr")?(this.detail=t,this.versionVisible=!0):this.dialogVisible=!0},handleDialog:function(){this.dialogVisible=!1},onSearchSubmit:function(){this.listQuery.page=1,this.init()},onSearchReset:function(){this.listQuery.search={},this.listQuery.page=1,this.init()},checkInstail:function(){this.versionVisible=!1,this.$router.go(0)},handleUnstall:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var l,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return l={name:t.alias,force:!0},a.next=3,Object(s["d"])(l);case 3:i=a.sent,200==i.code&&e.$message({message:i.msg,type:"success",duration:5e3});case 5:case"end":return a.stop()}}),a)})))()}}},u=c,d=a("9ca4"),b=Object(d["a"])(u,l,i,!1,null,null,null);e["default"]=b.exports}}]);